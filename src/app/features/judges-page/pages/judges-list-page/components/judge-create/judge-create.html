@let vm = store;

@if (vm.isLoadingDetails()) {
  <p>Creando, espere..</p>
}
@if (vm.isDoneDetails()){
  <h2 class="text-xl">Cuenta creada corectamente</h2>
  <div class="flex flex-row justify-center gap-3">
    <p-button severity="info" label="Salir" (onClick)="closeDialog()" />
  </div>
}

@if (!vm.isLoadingDetails() && !vm.isDoneDetails()) {
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="flex flex-col gap-3">
      <div class="flex flex-col gap-2">
        <label for="name">Nombre</label>
        <input pInputText id="name" autocomplete="off" formControlName="name" />
      </div>
      @if (isInvalidControl('name')) {
        <form-error [errors]="getErrorControl('name')"/>
      }
      <div class="flex flex-col gap-2">
        <label for="email">email</label>
        <input pInputText id="email" autocomplete="off" formControlName="email" />
      </div>
      @if (isInvalidControl('email')) {
        <form-error [errors]="getErrorControl('email')"/>
      }
      <div class="flex flex-col gap-2">
        <label for="specialization">Especializacion</label>
        <input pInputText id="specialization" autocomplete="off" formControlName="specialization" />
      </div>
      @if (isInvalidControl('specialization')) {
        <form-error [errors]="getErrorControl('specialization')"/>
      }

      <p-button type="submit" label="Guardar" [disabled]="form.invalid" />
      <p-button type="button" severity="success" label="Salir" (onClick)="closeDialog()" />

    </div>
  </form>
}
