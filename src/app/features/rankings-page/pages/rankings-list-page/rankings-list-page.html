<div class="flex flex-col gap-3">

@let vm = store;

@if (vm.isLoadingList()) {
<p>Cargando</p>
}
@else {

  <div class="flex flex-row justify-end gap-3">
    <p-button
    label="Recargar"
    severity="info"
    (onClick)="vm.search()" />

    <p-button
    label="Crear Snapshot"
    (onClick)="vm.create()"
    [loading]="vm.isLoadingSnapshot()"
    />
  </div>

  <p-table [value]="vm.rankings()" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template ng-template #header>
      <tr>
        <th>Posici√≥n</th>
        <th>Nombre</th>
        <th>Rol</th>
        <th>Puntaje Final</th>
        <th>Estado</th>
      </tr>
    </ng-template>
    <ng-template #body let-ranking let-i="rowIndex">
      <tr>
        <td>{{ i+1}}</td>
        <td>{{ ranking.participant.name }}</td>
        <td>{{ ranking.participant.jobRole }}</td>
        <td>{{ ranking.finalScore }}</td>
        <td class="font-bold">{{ ranking.approved ==  true ? 'Aprobado' : 'Rechazado' }}</td>
      </tr>
    </ng-template>
  </p-table>

}
<p-toast position="bottom-right"/>
</div>


